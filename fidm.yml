# -------------------------------------------------------------------------------
# consup_postgres fidm config
# https://github.com/LeKovr/fidm

image: consup_pgrest
project: test
# setup in .config

# -------------------------------------------------------------------------------
# Image exchange info
# -------------------------------------------------------------------------------

# yml def names for required images
requires:
- consup/postgres mode=common
- consup/nginx mode=common

# yml def names for linked containers with autostart
links:
- consup/consul    # consul.yml

env:
- LOCALE=ru_RU
- SERVICE=web
- PG_HOST=postgres.db.service.consul
- APP_PORT=3000
- DB_PASS=SET_DB_PASS_HERE_OR_IN_fidm.yml
- DBRPC_SCHEMAS="tnd,ws,public"
- JWT_KEY=000000
- PG_PORT=5432
- PGTZ=Europe/Moscow

# key to create db via dbcc service
- DBCC_KEY=SET_YOUR_DBCC_KEY_HERE_OR_IN_fidm.yml

# use local consul as DNS
dns: 127.0.0.1

# Daemon
detach: true
restart: always

# Interactive
#interactive: true
#tty: true
#rm: true
